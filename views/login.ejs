<!DOCTYPE html>
<html lang="en" ng-app="app">

<head>
    <title>Login</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="//netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
    <style>
        html,
        body,
        .container-table {
            height: 100%;
        }

        body {
            background-image: url("/static/img/background.jpg");
        }

        .container-table {
            display: table;
        }

        .vertical-center-row {
            display: table-cell;
            vertical-align: middle;
        }
    </style>
</head>

<body class="container container-table">
    <div class="row vertical-center-row">
        <div class="text-center col-md-4 col-md-offset-4">
            <% if (!signup) { %>
            <form action="/login" method="post">
            <% } %>
            <% if (signup) { %>
            <form action="/signup" method="post">
            <% } %>
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-md-4">
                            </div>
                            <div class="col-md-4 text-center"> 
                                <h1 class="panel-title">
                                    <% if (!signup) { %>
                                    <i class="glyphicon glyphicon-log-in"></i> Login
                                    <% } %>
                                    <% if (signup) { %>
                                    <span class="fa fa-sign-in"></span> Signup
                                    <% } %>
                                </h1>
                            </div>
                            <div class="col-md-4"> 
                                <% if (!signup) { %>
                                <a href="/signup" class="pull-right" style="text-decoration:none; color: inherit;">
                                    <i class="glyphicon glyphicon-plus-sign"></i> Signup</a>
                                <% } %>
                            </div>
                        </div>
                    </div>
                    <div class="panel-body">
                        <% if (message.length > 0) { %>
                            <div class="alert alert-danger"><%= message %></div>
                        <% } %>
                        <div class="input-group input-group-lg">
                            <span class="input-group-addon">
                                <i class="glyphicon glyphicon-user"></i>
                            </span>
                            <input class="form-control" type="text" name="username" placeholder="Username" required autofocus 
                                oninput="this.setCustomValidity('')"
                                oninvalid="this.setCustomValidity('Enter your username!!')"/>
                        </div>
                        <div class="input-group input-group-lg" style="padding-top: 10px">
                            <span class="input-group-addon">
                                <i class="glyphicon glyphicon-lock"></i>
                            </span>
                            <input class="form-control" type="password" name="password" placeholder="Password" required 
                                oninput="this.setCustomValidity('')"
                                oninvalid="this.setCustomValidity('Enter your password!!')"/>
                        </div>
                        <% if (signup) { %>
                        <div class="input-group input-group-lg" style="padding-top: 10px">
                            <span class="input-group-addon">
                                <i class="glyphicon glyphicon-text-color"></i>
                            </span>
                            <input class="form-control" type="text" name="displayname" placeholder="Display name" required 
                                oninput="this.setCustomValidity('')"
                                oninvalid="this.setCustomValidity('Enter your displayname!!')"/>
                        </div>
                        <% } %>
                    </div>
                    <div class="panel-footer">
                        <div>
                            <% if (!signup) { %>
                                <button class="btn btn-info" type="submit">
                                    <span class="glyphicon glyphicon-log-in"></span> Log In</button>
                                <a href="/auth/facebook" class="btn btn-primary">
                                    <span class="fa fa-facebook"></span> Facebook</a>
                                <a href="/auth/google" class="btn btn-danger">
                                    <span class="fa fa-google-plus"></span> Google</a>
                            <% } %>
                            <% if (signup) { %>
                                <button class="btn btn-primary" type="submit">
                                    <span class="glyphicon glyphicon-log-in"></span> Signup</button>
                                <a href="/" class="btn btn-default">
                                    <span class="glyphicon glyphicon-remove"></span> Cancel</a>
                            <% } %>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</body>

</html>